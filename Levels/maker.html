<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Level Maker with Toolbox</title>
  <style>
    body {
      margin: 0;
      display: flex;
      height: 100vh;
    }

    .character {
      position: absolute;
      left: 50px; /* Set initial X position */
      top: 860px; /* Set initial Y position */
      width: 50px;
      height: 50px;
      background-color: red;
      border-radius: 10px; /* Rounded corners */
    }

    .toolbox {
      width: 100px; /* Set width for the toolbox */
      background-color: #f0f0f0; /* Toolbox background color */
      border-right: 1px solid #ccc; /* Border on the right for separation */
    }

    .toolbox-item {
      padding: 10px;
      margin-bottom: 5px;
      cursor: pointer;
      transition: transform 0.2s; /* Smooth transition for scaling and positioning */
    }

    .toolbox-item img {
      width: 32px; /* Set width of icons */
      height: 32px; /* Set height of icons */
    }

    .toolbox-item.selected {
      transform: scale(1.2) translateX(3px); /* Scale up and move slightly to the right */
    }

    .main-content {
      flex: 1;
      position: relative; /* Position relative for absolute positioning of new items */
      background-color: #fff; /* Example background color */
    }
  </style>
</head>
<body>
  <div class="toolbox">
    <!-- Tool 1: Block -->
    <div class="toolbox-item" onclick="selectTool(this)">
      <img src="Resources/block.png" alt="Block">
    </div>

    <!-- Tool 2: Spike -->
    <div class="toolbox-item" onclick="selectTool(this)">
      <img src="Resources/spike.png" alt="Spike">
    </div>
  </div>
  
  <div class="main-content" onclick="placeSelectedItem(event)">
    <!-- Main content area (grid or other content) -->
    <button onclick="spawnCharacter()">Test</button> <!-- Test button -->
  </div>

  <script>
    function spawnCharacter() {
      const character = document.createElement('div');
      character.classList.add('character');
      document.querySelector('.main-content').appendChild(character);

      let characterY = 860; // Initial Y position
      let characterX = 50; // Initial X position
      let isJumping = false; // Flag to control jumping
      const gravity = 1; // Gravity value
      const jumpForce = -20; // Jump force value

      const gravityInterval = setInterval(() => {
        if (characterY < 860) {
          characterY += gravity; // Apply gravity
          character.style.top = `${characterY}px`; // Update character's top position
        }
      }, 20);

      setTimeout(() => {
        clearInterval(gravityInterval);

        document.addEventListener('keydown', (event) => {
          if (event.code === 'Space' && !isJumping) {
            isJumping = true;

            let jumpStep = 0;
            const jumpInterval = setInterval(() => {
              jumpStep += gravity - jumpForce; // Calculate jump force
              characterY -= jumpStep; // Apply jump force
              character.style.top = `${characterY}px`; // Update character's top position

              if (characterY >= 860) {
                characterY = 860; // Reset Y position when landed
                character.style.top = `${characterY}px`;
                clearInterval(jumpInterval); // Stop jumping after landing
                isJumping = false;

                // Start character's descent
                const descentInterval = setInterval(() => {
                  if (characterY < 860) {
                    characterY += gravity; // Apply gravity for descent
                    character.style.top = `${characterY}px`; // Update character's top position
                  } else {
                    clearInterval(descentInterval);
                  }
                }, 20);
              }
            }, 20);
          }
        });
      }, 4000);
    }
  </script>
</body>
</html>
